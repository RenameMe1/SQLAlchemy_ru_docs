# Унифицированное руководство SQLAlchemy

> [!NOTE]
>  
>  Унифицированное руководство SQLAlchemy интегрирован между ядром и ORM компонентами SQLAlchemy и служит как унифицированное введение в SQLAlchemy в целом. Для пользователей SQLAlchemy в пределах 1.x серии, в [[Словарь#2.0 style|стиле работы 2.0]], ORM использует запросы в стиле Core с конструкцией [[select()]] а транзакционная семантика между Core подключениями и ORM сессиями аналогична.
>
Обратите внимание на стили синих рамок для каждого раздела, которые покажут вам, насколько «ORM-подобна» конкретная тема!
> 
> Пользователи которые уже знакомы с SQLAlchemy и особенно те кто хочет переместить существующие приложения для работы под SQLAlchemy 2.0 серии в пределах  переходной фазы 1.4 должны познакомится с документом [[[SQLAlchemy 2.0 - Главное руководство по переносу]].
> 
> Для новеньких, в этом документе **много** деталей, однако к концу, он будет признан **Алхимиком**.

SQLAlchemy представлена как два определенных API, один построен на вершине другого. Эти API известны как **Core** (ядро) и **ORM**.

<div style="border-right:31px solid #051650; border-radius: 10px;"> 
<p> <b>SQLAlchemy Core</b> это основополагающая архитектура для SQLAlchemy как "набор инструментов для работы с базами данных". Библиотека предоставляет инструменты для управления соединением с базой данных, взаимодействующие с запросами и результатами базы данных, и программным строительством SQL инструкций.
</p>

<p>Секции которые <b>изначально относятся только к ядру</b>, не будут ссылаться на ORM. Конструкции SQLAlchemy использующиеся в этих секциях, будут импортированы из пространства имен <i>sqlalchemy</i>. Как дополнительный индикатор предметной классификации, они также будут включать темно-синюю рамку справа. При использовании ORM эти концепции все еще актуальны, но реже проявляются в пользовательском коде. Пользователям ORM следует ознакомиться с этими разделами, но не ожидать, что они будут напрямую использовать эти API для кода, ориентированного на ORM.
</p>
</div>

<div style="border-left:31px solid #73A5C6; padding:5px; border-radius: 10px;"> 
<p> <b>SQLAlchemy ORM</b> построен на ядре предоставляющем дополнительные возможности <b>объектно-реляционного отображения</b>. ORM предоставляет дополнительный уровень конфигурации позволяя python классам определенных юзером быть <b>сопоставленными</b> с таблицам базы данных и другими конструкциями, также механизм сохранения объектов, известный как <b>Session</b>. Затем он расширяет основной уровень языка выражений SQL, позволяя составлять SQL запросы и вызывать в условиях пользовательских объектов.
</p>

<p> Секции, которые <b>изначально относятся только к ORM</b> должны быть <b>озаглавлены включая фразу "ORM"</b>, чтобы было ясно, что это тема, связанная с ORM. Конструкции SQLAlchemy использующиеся в этих секциях, будут импортированы из пространства имен <i>sqlalchemy.orm</i>. Окончательно, как дополнительный индикатор предметной классификации, они также будут включать <b> светло-синюю рамку слева</b>. Пользователя которые относятся только к ядру, могут пропускать их.
</p>
</div>


<div style="border-left:8px solid #73A5C6; padding:5px; border-radius: 10px;border-right:31px solid #051650;"> 
<p> <b>Большинство</b> секций в этом руководстве рассматривают <b> концепции основанные на ядре, которые так же явно используются с ORM</b>. SQLAlchemy 2.0 в частности, , отличается гораздо более высоким уровнем интеграции использования Core API с ORM.
</p>

<p> Для каждого из этих секций, будет <b>вступительный текст</b> обсуждающий степень с которой пользователи ORM должны ожидать использование этих программных паттернов. Конструкции SQLAlchemy в этих секциях будут импортированы из пространства имен <i>sqlalchemy</i> с некоторым потенциальным использованием конструкций <i>sqlalchemy.orm</i> в тоже время. Как дополнительный индикатор предметной классификации, они также будут включать <b> и более тонкую светлую рамку слева и более толстую темную рамку справа</b>. Пользователи ядра и ORM должны ознакомится с концептами в этих секциях в равной мере.
</p>
</div>

## Обзор руководства

Руководство представит оба концепта в естественном порядке, в котором они должны быть изучены, сначала с использованием подхода ориентированного в основном на ядро, а затем с переходам к более ORM-ориентированным концепциям. 

Главные секции этого руководства следующие:
- [[01 Создание подключения - the Engine]] - все приложения SQLAlchemy начинают с объекта [[Engine]], здесь о его создании
- [[02 Работа с транзакциями и DBAPI]] - 
- [[Работа с метаданными базы данных]] -
- [[Работа с данными]] - здесь мы узнаем как создавать (create), выбирать (select), обновлять (update) и удалять (delete) данные в базе данных. Так называемые [[CRUD]] операции, здесь предоставлены в условиях ядра SQLAlchemy с ссылками на их аналоги ORM. Операция Select которая предоставлена в подробностях в [[использование Select оператора]] применяется одинаково хорошо как для ядра, так и для ORM.
- [[Манипуляция данными с ORM]] охватывает структуру сохранения данных ORM; в основном ORM ориентированные способы вставки(insert), обновления(update) и удаления(delete), а также как ручные транзакции.
- [[Работа с объектами, связанными с ORM]] представляет концепты [[relationship()]] конструкцию и предоставляет краткий обзор как его использовать, с ссылками на глубокую документацию.
- [[Далее приводится]] список серий основных высокоуровневых секций документации, которые полностью документируют предоставленные концепции в этом руководстве.

<div style="border-left:8px solid #73A5C6; padding:5px; border-radius: 10px;border-right:31px solid #051650;"> 
<h1>Проверка версии</h1>
<p> Это руководство написано с использованием системы называемой <a href="https://docs.python.org/3/library/doctest.html">doctest</a>. Все выдержки кода написаны с >>> на самом деле работают как часть тестового пакета SQLAlchemy, и читателю предлагается поработать с примерами кода предоставленными в реальном времени с помощью собственного Python интерпретатора.
</p>

<p> Если запустить примеры, рекомендуется, что бы читатель выполнил быструю проверку, подтверждающую, что мы на <b>версии SQLAlchemy 2.0</b>
</p>

<pre>
>>> import sqlalchemy 
>>> sqlalchemy.__version__ 
2.0.0
</pre>



</div>



































